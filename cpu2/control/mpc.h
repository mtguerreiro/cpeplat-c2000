/*
 * dmpc.h
 *
 *  Created on: 02.08.2021
 *      Author: mguerreiro
 */

#ifndef CONTROL_MPC_H_
#define CONTROL_MPC_H_

//===========================================================================
/*-------------------------------- Includes -------------------------------*/
//===========================================================================
#include <stdint.h>

#include "plat_defs.h"
//===========================================================================

//===========================================================================
/*------------------------------- Data types ------------------------------*/
//===========================================================================
typedef struct{

    float x[2];
    float x_1[2];

    float u;
    float u_1;

    float du;

    uint32_t iters;
}mpc_t;
//===========================================================================

//===========================================================================
/*------------------------------- Functions -------------------------------*/
//===========================================================================
void mpcInitialize(void *mpct, uint32_t *p);
float mpcControl(void *mpct, uint16_t ref, platCPU2ControlData_t *data);
//===========================================================================

#endif /* CONTROL_MPC_H_ */
